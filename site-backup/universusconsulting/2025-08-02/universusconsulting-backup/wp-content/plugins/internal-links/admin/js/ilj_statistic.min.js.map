{"version":3,"file":"ilj_statistic.min.js","mappings":"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","sources":["webpack://wp-internal-linkjuicer/./src/admin/js/ilj_statistic.js"],"sourcesContent":["/*!***************************************!*\\\n  !*** ./src/admin/js/ilj_statistic.js ***!\n  \\***************************************/\n(function ($) {\n  /**\n   * $ plugin for the tabnav handling\n   */\n  $.fn.ilj_tabnav = function () {\n    var container = this;\n    $(this).find('.nav-tab-wrapper').on('click', 'a', function () {\n      //toggling tab-nav:\n      $(this).addClass('nav-tab-active');\n      $(this).siblings('a').removeClass('nav-tab-active');\n      //toggling tab-content:\n      container.find('.tab-content').removeClass('active');\n      container.find('.tab-content#' + $(this).data('target')).addClass('active');\n    });\n  };\n\n  /**\n   * Config for tipso\n   */\n  var tipsoConfig = {\n    width: '',\n    maxWidth: '200',\n    useTitle: true,\n    delay: 100,\n    speed: 500,\n    background: '#32373c',\n    color: '#eeeeee',\n    size: 'small'\n  };\n\n  // /**\n  //  * Config for swal\n  //  */\n  // var swalHandle = Swal.mixin({\n  //     buttonsStyling: false,\n  //     customClass: {\n  //         confirmButton: 'button button-primary'\n  //     },\n  //     width: '48rem'\n  // });\n\n  /**\n   * Internationalization config for dataTables\n   */\n  var dataTables_language = {\n    aria: {\n      sortAscending: ilj_statistic_translation.datatables_aria_sortAscending,\n      sortDescending: ilj_statistic_translation.datatables_aria_sortDescending\n    },\n    paginate: {\n      first: ilj_statistic_translation.datatables_paginate_first,\n      last: ilj_statistic_translation.datatables_paginate_last,\n      next: ilj_statistic_translation.datatables_paginate_next,\n      previous: ilj_statistic_translation.datatables_paginate_previous\n    },\n    emptyTable: ilj_statistic_translation.datatables_empty_table,\n    info: ilj_statistic_translation.datatables_info,\n    infoEmpty: ilj_statistic_translation.datatables_info_empty,\n    infoFiltered: ilj_statistic_translation.datatables_info_filtered,\n    lengthMenu: ilj_statistic_translation.datatables_length_menu,\n    loadingRecords: ilj_statistic_translation.datatables_loading_records,\n    processing: ilj_statistic_translation.datatables_processing,\n    search: ilj_statistic_translation.datatables_search,\n    zeroRecords: ilj_statistic_translation.datatables_zero_records\n  };\n  var link_statistics_table_data = '';\n  var anchor_statistics_table_data = '';\n  var chunk_size = 1000;\n  /**\n   * Initialize the warning tip if possible\n   */\n  $(function () {\n    var $warningTip = $('.warning-tip');\n    if (!$warningTip.length) {\n      return;\n    }\n    var tipsoWarningConfig = $.extend(Object.assign({}, tipsoConfig), {\n      tooltipHover: true,\n      useTitle: false,\n      content: $('<div/>').html($warningTip.find('.the-tip').html()).css({\n        'margin': '10px 20px',\n        'display': 'block'\n      }),\n      maxWidth: '250px'\n    });\n    $warningTip.iljtipso(tipsoWarningConfig);\n  });\n\n  /**\n   * Initializing the statistics\n   */\n  $(function () {\n    var selected_types = ilj_link_statistic_filter_types.reduce(function (acc, e) {\n      if (undefined === acc[e.main_type]) {\n        acc[e.main_type] = new Set();\n      }\n      acc[e.main_type].add(e.sub_type);\n      return acc;\n    }, {});\n    var all_types = {};\n    Object.keys(selected_types).forEach(function (key, index) {\n      all_types[key] = Array.from(new Set(selected_types[key]));\n    });\n\n    /**\n     * Returns the translated label for a parent type (post, term, custom)\n     */\n    var get_main_type_label = function (slug) {\n      switch (slug) {\n        case 'post':\n          slug = ilj_statistic_translation.filter_section_posts_pages;\n          break;\n        case 'term':\n          slug = ilj_statistic_translation.filter_section_taxonomies;\n          break;\n        case 'custom':\n          slug = ilj_statistic_translation.filter_section_custom_links;\n          break;\n      }\n      return slug;\n    };\n\n    /**\n     * Get the complete type filter node\n     * @returns {jQuery}\n     */\n    var get_type_filter = function () {\n      var $wrapper = $('<div id=\"ilj-type-filter-wrapper\" class=\"ilj-type-filter-wrapper\"/>');\n      var $container = $('<ul id=\"ilj-link-statistics-filter\" />');\n      var $dropdown_link = $('<a/>').addClass('ilj-type-filter-dropdown').text(ilj_statistic_translation.filter_type).on('click', function () {\n        $wrapper.toggleClass('show');\n      });\n      $wrapper.append($dropdown_link, $container);\n      $.each(all_types, function (main_type, element) {\n        var label = get_main_type_label(main_type);\n        var $elem = $('<li/>').html($('<span/>').text(label));\n        var $sub_container = $('<ul/>');\n        $container.append($elem);\n        if (element.length) {\n          $elem.append($sub_container);\n        }\n        $.each(element, function (subindex, sub_type) {\n          var $sub_elem_toggle = $('<input/>').attr({\n            type: 'checkbox'\n          }).on('change', function () {\n            if (true === $(this).prop('checked')) {\n              selected_types[main_type].add(sub_type);\n            } else {\n              selected_types[main_type].delete(sub_type);\n            }\n            jQuery('.ilj-statistic-table-links').dataTable().api().ajax.reload();\n          });\n          if (selected_types[main_type].has(sub_type)) {\n            $sub_elem_toggle.attr('checked', true);\n          }\n          var $sub_elem_inner = $('<label/>').html($('<span/>').text(sub_type).attr('data-type', main_type));\n          var $sub_elem = $('<li/>').addClass('type').html($sub_elem_inner);\n          $sub_elem_inner.prepend($sub_elem_toggle);\n          $sub_container.append($sub_elem);\n        });\n      });\n      return $wrapper;\n    };\n    var $tabnav = $('.ilj-statistic').find('.nav-tab-wrapper');\n    if ($tabnav.length) {\n      $('.ilj-statistic').ilj_tabnav();\n    }\n    $('.tip').iljtipso(tipsoConfig);\n    function create_link_statistics_table() {\n      // Create a table element with class \"ilj-statistic-table-links display\"\n      var table = document.createElement('table');\n      table.className = 'ilj-statistic-table-links display';\n\n      // Create the table header (thead) with table row (tr) and table headers (th)\n      var thead = document.createElement('thead');\n      var header_row = document.createElement('tr');\n\n      // Loop through the localized header_titles and create table headers\n      header_titles.forEach(titleText => {\n        var th = document.createElement('th');\n        if (titleText === 'Type') {\n          th.className = 'type';\n        }\n        th.textContent = titleText;\n        header_row.appendChild(th);\n      });\n      thead.appendChild(header_row);\n\n      // Create the table body (tbody)\n      var tbody = document.createElement('tbody');\n\n      // Combine the elements to build the final structure\n      table.appendChild(thead);\n      table.appendChild(tbody);\n\n      // Now you can use this \"table\" element as needed, for example, appending it to a parent element in the DOM\n      var parentElement = document.getElementById('statistic-links'); // Replace with the actual parent element's ID\n      // Check if the parent element exists before attempting to append the table\n      if (parentElement) {\n        parentElement.appendChild(table);\n      }\n    }\n    render_link_statistics_table();\n\n    /**\n     * Helper function to get\n     * @param {string} element_name The html element name\n     * @param {string} content The html content, optional.\n     * @param {object} attributes\n     * @returns {string}\n     */\n    function ilj_create_element_with_attributes(element_name, content, attributes) {\n      const element = document.createElement(element_name);\n      if (content) {\n        element.innerText = content;\n      }\n      Object.entries(attributes).forEach(function ([key, value]) {\n        element.setAttribute(key, value);\n      });\n      const result = element.outerHTML;\n      // Remove the element once we get the result.\n      element.remove();\n      return result;\n    }\n    function render_link_statistics_table() {\n      create_link_statistics_table();\n      var $table = jQuery('.ilj-statistic-table-links');\n      jQuery('.ilj-statistic-table-links tbody').append(link_statistics_table_data);\n      $tabnav.show();\n      $('#statistic-links').append($table);\n      /**\n       * Render the statistics table\n       */\n      var dataTable = $table.DataTable({\n        stateSave: false,\n        serverSide: true,\n        processing: true,\n        searchDelay: 800,\n        ajax: {\n          beforeSend: function () {\n            $('#link-statistics-loader').show();\n          },\n          url: ajaxurl,\n          type: 'POST',\n          data: {\n            action: 'load_link_statistics',\n            nonce: ilj_dashboard.nonce,\n            main_types: function () {\n              return Object.keys(selected_types);\n            },\n            sub_types: function () {\n              var sub_types = Object.values(selected_types).reduce(function (acc, element) {\n                return acc.concat(Array.from(element));\n              }, []);\n              return Array.from(new Set(sub_types));\n            }\n          }\n        },\n        columnDefs: [{\n          className: 'asset-title',\n          responsivePriority: 1,\n          targets: 0,\n          data: null,\n          render: function (data, type, row) {\n            // Use a regular expression to replace HTML tags with an empty string\n            var cleanTitle = row.title.replace(/<\\/?[^>]+(>|$)/g, \"\");\n            return cleanTitle;\n          }\n        }, {\n          targets: 1,\n          data: null,\n          render: function (data, type, row) {\n            return row.keywords_count;\n          }\n        }, {\n          className: 'type',\n          responsivePriority: 2,\n          data: null,\n          targets: 2,\n          render: function (data, type, row) {\n            var content_type = row.sub_type ? row.sub_type : row.main_type;\n            return ilj_create_element_with_attributes('span', content_type, {\n              \"data-type\": row.main_type\n            });\n          }\n        }, {\n          responsivePriority: 3,\n          data: null,\n          targets: 3,\n          render: function (data, type, row) {\n            if (0 === parseInt(row.incoming_links)) {\n              return \"-\";\n            }\n            return ilj_create_element_with_attributes('a', row.incoming_links, {\n              \"data-type\": row.main_type,\n              title: ilj_statistic_translation.show_incoming_links,\n              class: 'tip ilj-statistic-detail',\n              \"data-id\": row.id,\n              \"data-direction\": 'to'\n            });\n          }\n        }, {\n          responsivePriority: 4,\n          data: null,\n          targets: 4,\n          render: function (data, type, row) {\n            if (0 === parseInt(row.outgoing_links)) {\n              return \"-\";\n            }\n            return ilj_create_element_with_attributes('a', row.outgoing_links, {\n              \"data-type\": row.main_type,\n              title: ilj_statistic_translation.show_outgoing_links,\n              class: 'tip ilj-statistic-detail',\n              \"data-id\": row.id,\n              \"data-direction\": 'from'\n            });\n          }\n        }, {\n          responsivePriority: 5,\n          data: null,\n          targets: 5,\n          orderable: false,\n          render: function (data, type, row) {\n            return `<a href=\"${row.edit_link}\" title=\"${row.edit_title}\" class=\"tip\"><span class=\"dashicons dashicons-edit\"></span></a> <a class=\"tip\"  target=\"_blank\" rel=\"noopener\" href=\"${row.permalink}\" title=\"${row.permalink_title}\"><span class=\"dashicons dashicons-external\"></span></a>`;\n          }\n        }],\n        language: dataTables_language,\n        stateLoaded: function (settings, data) {\n          $table.find('.tip').iljtipso(tipsoConfig);\n        },\n        drawCallback: function (settings) {\n          const existing_filter = document.getElementById('ilj-type-filter-wrapper');\n          if (existing_filter) {\n            existing_filter.parentNode.removeChild(existing_filter);\n          }\n          $('#statistic-links .dataTables_wrapper .dataTables_filter').append(get_type_filter());\n          $('#link-statistics-loader').hide();\n        },\n        responsive: true\n      });\n\n      // Unbind the default search input event handler\n      $('.dataTables_filter input', $table.closest('.dataTables_wrapper')).off();\n\n      // Custom search trigger on Enter key\n      $('.dataTables_filter input', $table.closest('.dataTables_wrapper')).on('keyup', function (e) {\n        if (e.keyCode === 13) {\n          // Enter key\n          dataTable.search(this.value).draw();\n        }\n      });\n      $table.find('.tip').iljtipso(tipsoConfig);\n\n      /**\n       * Open detailed statistics\n       */\n      $table.on('click', '.ilj-statistic-detail', function () {\n        $('.ilj-statistic-cover').show();\n        var id = $(this).data('id');\n        var type = $(this).data('type');\n        var direction = $(this).data('direction');\n        var headline = '';\n        var link_count = 0;\n        var title = $(this).closest('tr').find('td.asset-title').text();\n        if (direction == 'to') {\n          headline = ilj_statistic_translation.incoming_links;\n          link_count = $(this).closest('a[data-direction=\"to\"]').text();\n        } else if (direction == 'from') {\n          headline = ilj_statistic_translation.outgoing_links;\n          link_count = $(this).closest('a[data-direction=\"from\"]').text();\n        }\n        var data = {\n          'action': 'ilj_render_link_detail_statistic',\n          'nonce': ilj_dashboard.nonce,\n          'id': id,\n          'type': type,\n          'direction': direction\n        };\n        $.ajax({\n          url: ajaxurl,\n          type: 'POST',\n          data: data\n        }).done(function (data) {\n          ilj_create_modal(headline + ' \"' + title + '\" (' + link_count + ')', $('<div/>').addClass('ilj-statistic').html(data));\n          $('.ilj-statistic-cover').hide();\n        });\n      });\n    }\n    function create_link_anchor_statistics_table() {\n      // Create a table element\n      var table = document.createElement('table');\n      table.className = 'ilj-statistic-table-anchors display';\n\n      // Create the table header (thead) element\n      var thead = document.createElement('thead');\n      var headerRow = document.createElement('tr');\n\n      // Create table header cells and add text content from localized data\n      if ('undefined' !== typeof headerLabels) {\n        headerLabels.forEach(function (labelText) {\n          var th = document.createElement('th');\n          th.textContent = labelText;\n          headerRow.appendChild(th);\n        });\n      }\n      thead.appendChild(headerRow);\n\n      // Create the table body (tbody) element\n      var tbody = document.createElement('tbody');\n\n      // Append the header and body to the table\n      table.appendChild(thead);\n      table.appendChild(tbody);\n\n      // Append the table to a specific element in the DOM\n      var targetElement = document.getElementById('statistic-anchors');\n      // Check if the parent element exists before attempting to append the table\n      if (targetElement) {\n        targetElement.appendChild(table);\n      }\n    }\n    function render_link_anchor_statistics_table() {\n      create_link_anchor_statistics_table();\n      var spinnerUrl = ajaxurl.replace('admin-ajax.php', 'images/spinner.gif');\n      $('body').append('<div style=\"position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);display:none\" id=\"loading-icon\"><img src=\"' + spinnerUrl + '\" alt=\"' + ilj_dashboard.loadingText + '\"></div>');\n      var $loadingIcon = $('#loading-icon');\n      var $table = jQuery('.ilj-statistic-table-anchors');\n      $('#statistic-anchors').html($table);\n\n      /**\n       * Render the anchor statistics table\n       */\n      var dataTable = $table.DataTable({\n        ajax: {\n          url: ajaxurl,\n          type: 'POST',\n          data: function (d) {\n            d.action = 'load_anchor_statistics_chunk', d.nonce = ilj_dashboard.nonce;\n          }\n        },\n        processing: false,\n        serverSide: true,\n        language: dataTables_language,\n        stateLoaded: function (settings, data) {\n          $table.find('.tip').iljtipso(tipsoConfig);\n        },\n        columnDefs: [{\n          responsivePriority: 1,\n          targets: 0\n        }, {\n          responsivePriority: 2,\n          searchable: false,\n          targets: 3\n        }, {\n          responsivePriority: 3,\n          searchable: false,\n          orderable: false,\n          targets: 2\n        }, {\n          responsivePriority: 4,\n          searchable: false,\n          orderable: false,\n          targets: 1\n        }],\n        responsive: true,\n        searchDelay: 1000\n      }).on('processing.dt', function (e, settings, processing) {\n        $loadingIcon.toggle(processing);\n      });\n      $('#statistic-anchors input').off('keypress').on('keypress', function (e) {\n        if (e.which == 13) {\n          // Enter key\n          dataTable.search(this.value).draw();\n        }\n      });\n\n      /**\n       * Open detailed statistics\n       */\n      $table.on('click', '.ilj-statistic-detail', function () {\n        $('.ilj-statistic-cover').show();\n        var anchor = $(this).data('anchor');\n        var link_count = $(this).text();\n        var data = {\n          'action': 'ilj_render_anchor_detail_statistic',\n          'nonce': ilj_dashboard.nonce,\n          'anchor': anchor\n        };\n        $.ajax({\n          url: ajaxurl,\n          type: 'POST',\n          data: data\n        }).done(function (data) {\n          ilj_create_modal(ilj_statistic_translation.anchor_text + ' \"' + anchor + '\" (' + link_count + ')', $('<div/>').addClass('ilj-statistic').html(data));\n          $('.ilj-statistic-cover').hide();\n        });\n      });\n    }\n\n    //generate the anchor statistics table and render it.\n    render_link_anchor_statistics_table();\n  });\n\n  /**\n   * Hide type filter if open\n   */\n  $(document).on('mouseup', function (e) {\n    var $wrapper = $('#ilj-type-filter-wrapper');\n    if (!$wrapper.is(e.target) && $wrapper.has(e.target).length === 0) {\n      $wrapper.removeClass('show');\n    }\n  });\n})(jQuery);\n"],"names":["$","fn","ilj_tabnav","container","this","find","on","addClass","siblings","removeClass","data","tipsoConfig","width","maxWidth","useTitle","delay","speed","background","color","size","dataTables_language","aria","sortAscending","ilj_statistic_translation","datatables_aria_sortAscending","sortDescending","datatables_aria_sortDescending","paginate","first","datatables_paginate_first","last","datatables_paginate_last","next","datatables_paginate_next","previous","datatables_paginate_previous","emptyTable","datatables_empty_table","info","datatables_info","infoEmpty","datatables_info_empty","infoFiltered","datatables_info_filtered","lengthMenu","datatables_length_menu","loadingRecords","datatables_loading_records","processing","datatables_processing","search","datatables_search","zeroRecords","datatables_zero_records","$warningTip","length","tipsoWarningConfig","extend","Object","assign","tooltipHover","content","html","css","iljtipso","selected_types","ilj_link_statistic_filter_types","reduce","acc","e","undefined","main_type","Set","add","sub_type","all_types","keys","forEach","key","index","Array","from","get_type_filter","$wrapper","$container","$dropdown_link","text","filter_type","toggleClass","append","each","element","label","slug","filter_section_posts_pages","filter_section_taxonomies","filter_section_custom_links","get_main_type_label","$elem","$sub_container","subindex","$sub_elem_toggle","attr","type","prop","delete","jQuery","dataTable","api","ajax","reload","has","$sub_elem_inner","$sub_elem","prepend","$tabnav","ilj_create_element_with_attributes","element_name","attributes","document","createElement","innerText","entries","value","setAttribute","result","outerHTML","remove","table","className","thead","header_row","header_titles","titleText","th","textContent","appendChild","tbody","parentElement","getElementById","create_link_statistics_table","$table","show","DataTable","stateSave","serverSide","searchDelay","beforeSend","url","ajaxurl","action","nonce","ilj_dashboard","main_types","sub_types","values","concat","columnDefs","responsivePriority","targets","render","row","title","replace","keywords_count","parseInt","incoming_links","show_incoming_links","class","id","outgoing_links","show_outgoing_links","orderable","edit_link","edit_title","permalink","permalink_title","language","stateLoaded","settings","drawCallback","existing_filter","parentNode","removeChild","hide","responsive","closest","off","keyCode","draw","direction","headline","link_count","done","ilj_create_modal","render_link_statistics_table","headerRow","headerLabels","labelText","targetElement","create_link_anchor_statistics_table","spinnerUrl","loadingText","$loadingIcon","d","searchable","toggle","which","anchor","anchor_text","render_link_anchor_statistics_table","is","target"],"sourceRoot":""}
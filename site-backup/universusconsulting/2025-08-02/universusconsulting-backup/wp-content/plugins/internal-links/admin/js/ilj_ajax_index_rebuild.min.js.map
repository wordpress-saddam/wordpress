{"version":3,"file":"ilj_ajax_index_rebuild.min.js","mappings":"AAmFGA,QA/EC,WACA,IAAIC,EAAQ,KAEZD,OAAOE,UAAUC,GAAG,QAAS,6BAA6B,SAAUC,GAElE,GADAA,EAAEC,kBACEL,OAAOM,MAAMC,KAAK,YAAtB,CAGAP,OAAOM,MAAME,MAAMR,OAAO,8FAC1B,IAAIS,EAAO,CACT,OAAU,oBACV,MAASC,cAAcC,OAEzBX,OAAOY,KAAK,CACVC,IAAKC,QACLC,KAAM,OACNN,KAAMA,EACNO,WAAY,CACV,IAAK,SAAUC,MACT,KAAmBA,IAAQ,CAAC,UAAW,SAASC,SAASD,EAAIE,aAAaC,QAI9DpB,OAAOiB,EAAIE,aAAaE,SAHtBrB,OAAOsB,yBAAyBC,UAIpD,GAEFC,QAAS,SAAUf,EAAMgB,EAAYR,GACnBjB,OAAOS,EAAKY,SAC5BrB,OAAO,8BAA8B0B,KAAKT,EAAIE,aAAaE,QAC7D,IAEFrB,OAAOM,MAAMqB,SAAS,UACtB3B,OAAO,qCAAqC4B,YAAY,UAC3C,MAAT3B,GACF4B,cAAc5B,GAEhBA,EAAQ6B,aAAY,WAClB9B,SAAS+B,sBAAsB9B,EACjC,GApCQ,IAKR,CAgCF,IACAD,OAAOE,UAAUC,GAAG,QAAS,qCAAqC,SAAUC,GAE1E,GADAA,EAAEC,kBACEL,OAAOM,MAAMC,KAAK,YAAtB,CAGAP,OAAO,8BAA8B0B,KAAK,IACS,GAA/C1B,OAAO,8BAA8BgC,QACvChC,OAAOM,MAAM2B,OAAOjC,OAAO,8FAE7B,IAAIS,EAAO,CACT,OAAU,oBACV,MAASC,cAAcC,OAEzBX,OAAOY,KAAK,CACVC,IAAKC,QACLC,KAAM,OACNN,KAAMA,EACNO,WAAY,CACV,IAAK,SAAUC,MACT,KAAmBA,IAAQ,CAAC,UAAW,SAASC,SAASD,EAAIE,aAAaC,QAI9DpB,OAAOiB,EAAIE,aAAaE,SAHtBrB,OAAOsB,yBAAyBC,UAIpD,GAEFC,QAAS,SAAUf,EAAMgB,EAAYR,GACnBjB,OAAOS,EAAKY,SAC5BrB,OAAO,8BAA8B0B,KAAKT,EAAIE,aAAaE,QAC7D,IAEW,MAATpB,GACF4B,cAAc5B,GAEhBA,EAAQ6B,aAAY,WAClB9B,SAAS+B,sBAAsB9B,EACjC,GA1EQ,IA0CR,CAiCF,GACF","sources":["webpack://wp-internal-linkjuicer/./src/admin/js/ilj_ajax_index_rebuild.js"],"sourcesContent":["/*!************************************************!*\\\n  !*** ./src/admin/js/ilj_ajax_index_rebuild.js ***!\n  \\************************************************/\n(function ($) {\n  $(function () {\n    var timer = null,\n      delay = 3000;\n    jQuery(document).on('click', '.button.ilj-index-rebuild', function (e) {\n      e.preventDefault();\n      if (jQuery(this).attr('disabled')) {\n        return;\n      }\n      jQuery(this).after(jQuery('<span id=\"ilj-index-rebuild-spinner\" class=\"spinner is-active\" style=\"float:none\"></span>'));\n      var data = {\n        'action': 'ilj_rebuild_index',\n        'nonce': ilj_dashboard.nonce\n      };\n      jQuery.ajax({\n        url: ajaxurl,\n        type: \"POST\",\n        data: data,\n        statusCode: {\n          500: function (xhr) {\n            if (!\"responseJSON\" in xhr || ![\"success\", \"error\"].includes(xhr.responseJSON.status)) {\n              var $feedback = jQuery(ilj_index_rebuild_button.error_500);\n              return;\n            }\n            var $feedback = jQuery(xhr.responseJSON.message);\n          }\n        },\n        success: function (data, textStatus, xhr) {\n          var $feedback = jQuery(data.message);\n          jQuery('#ilj-index-rebuild-message').html(xhr.responseJSON.message);\n        }\n      });\n      jQuery(this).addClass('hidden');\n      jQuery(\".button.ilj-index-restart-rebuild\").removeClass(\"hidden\");\n      if (timer != null) {\n        clearInterval(timer);\n      }\n      timer = setInterval(function () {\n        jQuery().updateLinkIndexStatus(timer);\n      }, delay);\n    });\n    jQuery(document).on('click', '.button.ilj-index-restart-rebuild', function (e) {\n      e.preventDefault();\n      if (jQuery(this).attr('disabled')) {\n        return;\n      }\n      jQuery('#ilj-index-rebuild-message').html(\"\");\n      if (jQuery(\"#ilj-index-rebuild-spinner\").length == false) {\n        jQuery(this).before(jQuery('<span id=\"ilj-index-rebuild-spinner\" class=\"spinner is-active\" style=\"float:none\"></span>'));\n      }\n      var data = {\n        'action': 'ilj_rebuild_index',\n        'nonce': ilj_dashboard.nonce\n      };\n      jQuery.ajax({\n        url: ajaxurl,\n        type: \"POST\",\n        data: data,\n        statusCode: {\n          500: function (xhr) {\n            if (!\"responseJSON\" in xhr || ![\"success\", \"error\"].includes(xhr.responseJSON.status)) {\n              var $feedback = jQuery(ilj_index_rebuild_button.error_500);\n              return;\n            }\n            var $feedback = jQuery(xhr.responseJSON.message);\n          }\n        },\n        success: function (data, textStatus, xhr) {\n          var $feedback = jQuery(data.message);\n          jQuery('#ilj-index-rebuild-message').html(xhr.responseJSON.message);\n        }\n      });\n      if (timer != null) {\n        clearInterval(timer);\n      }\n      timer = setInterval(function () {\n        jQuery().updateLinkIndexStatus(timer);\n      }, delay);\n    });\n  });\n})(jQuery);\n"],"names":["jQuery","timer","document","on","e","preventDefault","this","attr","after","data","ilj_dashboard","nonce","ajax","url","ajaxurl","type","statusCode","xhr","includes","responseJSON","status","message","ilj_index_rebuild_button","error_500","success","textStatus","html","addClass","removeClass","clearInterval","setInterval","updateLinkIndexStatus","length","before"],"sourceRoot":""}
function ilj_dynamicSelect(e,i,t,s){jQuery(e).ilj_select2({width:"50%",minimumInputLength:3,templateSelection:function(i){var t=20,s=jQuery(e);return s&&s.data("iljTitleCharacterLimit")&&(t=parseInt(s.data("iljTitleCharacterLimit"))),(i.text.length>t?i.text.substring(0,t)+"...":i.text)+" (ID: "+i.id+")"},ajax:{url:ajaxurl,type:"POST",data:function(e){return{action:i,nonce:ilj_menu_settings_obj[s],search:e.term,per_page:t,page:e.page||1}},processResults:function(e){return 0!==e.length&&(more=!0,e.length<t&&(more=!1),data_new={results:e,pagination:{more}})}},language:{errorLoading:function(){return ilj_select2_translation.error_loading},inputTooShort:function(e){var i=e.minimum-e.input.length;return ilj_select2_translation.input_too_short+": "+i},loadingMore:function(){return ilj_select2_translation.loading_more},noResults:function(){return ilj_select2_translation.no_results},searching:function(){return ilj_select2_translation.searching}}})}function ilj_menu_settings_inverse_fields(e,i,t="readonly"){ilj_menu_settings_toggle_fields(e.prop("checked"),i,t),e.on("change",(function(){ilj_menu_settings_toggle_fields(e.prop("checked"),i,t)}))}function ilj_menu_settings_toggle_fields(e,i,t){e?i.each((function(){jQuery(this).prop(t,!1).closest("tr").find("th").removeClass("inactive")})):i.each((function(){jQuery(this).prop(t,!0).closest("tr").find("th").addClass("inactive")}))}!function(e){e((function(){jQuery("#ilj_settings_field_editor_role, #ilj_settings_field_index_generation, #ilj_settings_field_whitelist, #ilj_settings_field_taxonomy_whitelist, #ilj_settings_field_limit_taxonomy_list, #ilj_settings_field_keyword_order, #ilj_settings_field_no_link_tags, #ilj_settings_field_custom_fields_to_link_post, #ilj_settings_field_custom_fields_to_link_term").ilj_select2({minimumResultsForSearch:10,width:"50%"}),jQuery("#ilj_settings_field_custom_fields_to_link_post, #ilj_settings_field_custom_fields_to_link_term").ilj_select2({minimumResultsForSearch:10,width:"50%",tags:!0,insertTag:function(e,i){var t=new Set(e.map((e=>e.id))),s=`starts_with:${i.id}`.trim(),n=`ends_with:${i.id}`.trim(),l=`contains:${i.id}`.trim();t.has(s)||e.push({newOption:!0,id:s,text:ilj_select2_translation.custom_field_starts_with.replace("%s",i.text)}),t.has(n)||e.push({newOption:!0,id:n,text:ilj_select2_translation.custom_field_ends_with.replace("%s",i.text)}),t.has(l)||e.push({newOption:!0,id:l,text:ilj_select2_translation.custom_field_has.replace("%s",i.text)})}}),jQuery("#ilj_settings_field_custom_fields_to_link_post, #ilj_settings_field_custom_fields_to_link_term").on("select2:select",(function(i){if(i.params.data.newOption){var t=i.params.data,s=new Option(t.text,t.id,!0,!0);e(this).append(s).trigger("change")}})),ilj_menu_settings_inverse_fields(jQuery("#ilj_settings_field_limit_incoming_links"),jQuery("#ilj_settings_field_max_incoming_links")),ilj_menu_settings_inverse_fields(jQuery("#ilj_settings_field_links_per_paragraph_switch"),jQuery("#ilj_settings_field_links_per_paragraph")),ilj_dynamicSelect("#ilj_settings_field_blacklist","ilj_search_posts",20,"nonce_ilj_search_posts"),ilj_dynamicSelect("#ilj_settings_field_term_blacklist","ilj_search_terms",20,"nonce_ilj_search_terms");var i=jQuery("#ilj_settings_field_link_preview_switch");if(ilj_menu_settings_inverse_fields(i,jQuery("#ilj_settings_field_link_preview_template")),ilj_menu_settings_inverse_fields(i,jQuery("#ilj_settings_field_link_preview_template_reset_to_default"),"disabled"),jQuery("#ilj_settings_field_multiple_keywords").on("change",(function(){var e=jQuery("#ilj_settings_field_links_per_page, #ilj_settings_field_links_per_target, #ilj_settings_field_limit_incoming_links");this.checked?(e.each((function(){jQuery(this).closest("tr").find("th").addClass("inactive"),jQuery(this).parent().parent().hasClass("pro-setting")||jQuery(this).prop("disabled",!0)})),jQuery("#ilj_settings_field_links_per_page").val("0"),jQuery("#ilj_settings_field_links_per_target").val("0")):e.each((function(){jQuery(this).closest("tr").find("th").removeClass("inactive"),jQuery(this).parent().parent().hasClass("pro-setting")||jQuery(this).prop("disabled",!1)}))})),jQuery("#ilj_settings_field_index_generation").on("change",(function(){var e=jQuery("#ilj_settings_field_hide_status_bar");"index_mode_none"==this.value?(e.each((function(){jQuery(this).closest("tr").find("th").addClass("inactive")})),e.prop("disabled",!0)):(e.each((function(){jQuery(this).closest("tr").find("th").removeClass("inactive")})),e.prop("disabled",!1))})),"index_mode_none"==jQuery("#ilj_settings_field_index_generation").val()){var t=jQuery("#ilj_settings_field_hide_status_bar");t.each((function(){jQuery(this).closest("tr").find("th").addClass("inactive")})),t.prop("disabled",!0)}e((function(){var i=jQuery("#ilj_settings_field_multiple_keywords"),t=jQuery("#ilj_settings_field_links_per_page, #ilj_settings_field_links_per_target");i.length&&(i[0].checked?t.each((function(){jQuery(this).closest("tr").find("th").addClass("inactive"),jQuery(this).parent().parent().hasClass("pro-setting")||jQuery(this).prop("disabled",!0)})):t.each((function(){jQuery(this).parent().parent().hasClass("pro-setting")||jQuery(this).prop("disabled",!1)})),e("#ilj_settings_field_links_per_page, #ilj_settings_field_links_per_target, #ilj_settings_field_links_per_paragraph, #ilj_settings_field_max_incoming_links").change((function(){"-0"==jQuery(this).val()&&(e(this).val(""),e(this).focus(),alert(ilj_menu_settings_translation.negative_not_allowed_message))})))}));jQuery(".tip").iljtipso({width:"",maxWidth:"200",useTitle:!0,delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small"}),jQuery(".pro-title, .pro-setting").attr("title",ilj_menu_settings_translation.pro_feature_title),jQuery(".pro-title, .pro-setting").on("click",(function(){window.open(ilj_menu_settings_translation.upgrade_to_pro_link,"_blank")})),jQuery(document).on("click",".button.ilj-cancel-schedules",(function(e){if(e.preventDefault(),confirm(ilj_menu_settings_translation.confirm_cancel_message)&&!jQuery(this).attr("disabled")){jQuery(this).after(jQuery('<span id="ilj-cancel-schedule-spinner" class="spinner is-active" style="float:none"></span>'));var i={action:"ilj_cancel_schedules",nonce:ilj_menu_settings_obj.nonce};jQuery.ajax({url:ajaxurl,type:"POST",data:i,statusCode:{500:function(e){!(!1 in e)&&["success","error"].includes(e.responseJSON.status)&&console.log("Error: "+e.responseJSON.message)}},success:function(e,i,t){if(jQuery("#ilj-cancel-schedule-spinner").remove(),0===jQuery("#ilj-cancel-schedule-feedback").length){var s='<div id="ilj-cancel-schedule-feedback" class="notice notice-success is-dismissible"><p>'+ilj_menu_settings_translation.success_message+"</p></div>";jQuery(s).insertAfter(".button.ilj-cancel-schedules"),setTimeout((function(){jQuery("#ilj-cancel-schedule-feedback").remove()}),2e3)}}})}}))})),jQuery(document).on("click",".button.ilj-fix-database-collation",(function(e){if(e.preventDefault(),confirm(ilj_menu_settings_translation.confirm_database_collation_fix_message)&&!jQuery(this).attr("disabled")){jQuery(this).after(jQuery('<span id="ilj-fix-database-collation-spinner" class="spinner is-active" style="float:none"></span>'));var i={action:"ilj_fix_database_collation",nonce:ilj_menu_settings_obj.nonce_ilj_fix_collation};jQuery.ajax({url:ajaxurl,type:"POST",data:i,statusCode:{500:function(e){!(!1 in e)&&["success","error"].includes(e.responseJSON.status)&&console.log("Error: "+e.responseJSON.message)}},success:function(e,i,t){if(jQuery("#ilj-fix-database-collation-spinner").remove(),0===jQuery("#ilj-fix-database-collation-feedback").length){var s='<div id="ilj-fix-database-collation-feedback" class="notice notice-success is-dismissible"><p>'+ilj_menu_settings_translation.success_message+"</p></div>";jQuery(s).insertAfter(".button.ilj-fix-database-collation"),setTimeout((function(){jQuery("#ilj-fix-database-collation-feedback").remove()}),2e3)}}})}}))}(jQuery);
//# sourceMappingURL=ilj_menu_settings.min.js.map
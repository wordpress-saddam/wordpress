!function(i){i.fn.ilj_editor=function(){var t=this,s=function(t,s=!1,e=!1){var a=i("<div />").addClass("ilj-toggler-wrap"),n={type:"checkbox",id:t,name:t,value:1};s&&(n.checked="checked"),e&&(n.disabled="disabled");var l=i("<input />").addClass("ilj-toggler-input").attr(n);a.append(l);var o=i("<label />").addClass("ilj-toggler-label").attr({for:t}),r=i('<div class="ilj-toggler-switch" aria-hidden="true"><div class="ilj-toggler-option-l" aria-hidden="true"><svg class="ilj-toggler-svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" width="548.9" height="548.9" viewBox="0 0 548.9 548.9" xml:space="preserve"><polygon points="449.3 48 195.5 301.8 99.5 205.9 0 305.4 95.9 401.4 195.5 500.9 295 401.4 548.9 147.5 "/></svg></div><div class="ilj-toggler-option-r" aria-hidden="true"><svg class="ilj-toggler-svg" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 28 28" xml:space="preserve"><polygon points="28 22.4 19.6 14 28 5.6 22.4 0 14 8.4 5.6 0 0 5.6 8.4 14 0 22.4 5.6 28 14 19.6 22.4 28 " fill="#030104"/></svg></div></div>');return o.append(r),a.append(o),i("<div />").append(a).html()};({keywords:[],inputField:i(t).find('input[name="ilj_linkdefinition_keys"]'),blacklistField:i(t).find('input[name="ilj_blacklistdefinition"]'),isBlacklisted:i(t).find('input[name="ilj_is_blacklisted"]'),limitField:i(t).find('input[name="ilj_limitincominglinks"]'),maxlimitField:i(t).find('input[name="ilj_maxincominglinks"]'),linksperparagraphField:i(t).find('input[name="ilj_limitlinksperparagraph"]'),maxlinksperparagraphField:i(t).find('input[name="ilj_linksperparagraph"]'),limitoutgoingField:i(t).find('input[name="ilj_limitoutgoinglinks"]'),maxoutgoinglimitField:i(t).find('input[name="ilj_maxoutgoinglinks"]'),errorMessage:i('<div class="error-feedback"></div>'),duplicate_notice:i('<div class="ilj-duplicate-notice"></div>'),keywordInputInfo:i('<span class="dashicons dashicons-info"></span>').css({"margin-top":"10px"}).iljtipso({content:i("<ul><li>"+ilj_editor_translation.howto_case+"</li><li>"+ilj_editor_translation.howto_keyword+"</li></ul>").css({"list-style-type":"square","list-style-position:":"outside","text-align":"left",padding:"0px",margin:"10px 20px"}),delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small",position:"left"}),gapInputInfo:i('<span class="dashicons dashicons-info"></span>').iljtipso({content:i("<p>"+ilj_editor_translation.howto_gap+"</p>").css({"text-align":"left",padding:"0px",margin:"10px"}),delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small",position:"left",tooltipHover:!0}),limitLinksPerParagraphInputInfo:i('<span class="dashicons dashicons-info"></span>').iljtipso({content:i("<ul><li>"+ilj_editor_translation.howto_links_per_paragraph+"</li></ul>").css({"list-style-type":"square","list-style-position:":"outside","text-align":"left",padding:"0px",margin:"10px 20px"}),delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small",position:"left"}),blacklistStatusInfo:i('<span class="dashicons dashicons-info"></span>').iljtipso({content:i("<ul><li>"+ilj_editor_translation.howto_add_to_blacklist+"</li></ul>").css({"list-style-type":"square","list-style-position:":"outside","text-align":"left",padding:"0px",margin:"10px 20px"}),delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small",position:"left"}),limitIncomingLinksInfo:i('<span class="dashicons dashicons-info"></span>').iljtipso({content:i("<ul><li>"+ilj_editor_translation.howto_limit_incoming_links+"</li></ul>").css({"list-style-type":"square","list-style-position:":"outside","text-align":"left",padding:"0px",margin:"10px 20px"}),delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small",position:"left"}),limitOutgoingLinksInfo:i('<span class="dashicons dashicons-info"></span>').iljtipso({content:i("<ul><li>"+ilj_editor_translation.howto_limit_outgoing_links+"</li></ul>").css({"list-style-type":"square","list-style-position:":"outside","text-align":"left",padding:"0px",margin:"10px 20px"}),delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small",position:"left"}),tabs:i('<div class="tab">   <button class="tablinks active">Keywords</button>   <button class="tablinks">Settings</button></div>'),inputGui:i('<div id="Keywords" class="tabcontent active">   <div class="input-gui">       <input class="keywordInput" type="text" name="keyword" placeholder="'+ilj_editor_translation.placeholder_keyword+'"/>       <a class="button add-keyword">'+ilj_editor_translation.add_keyword+'</a>       <div class="gaps">           <h4>'+ilj_editor_translation.headline_gaps+'</h4>            <input type="number" name="count" placeholder="0"/>           <a class="button add-gap">'+ilj_editor_translation.add_gap+"</a>           <h5>"+ilj_editor_translation.gap_type+'</h5>           <div class="gap-types">               <div class="type min"><label for="gap-min" class="tip" title="'+ilj_editor_translation.type_min+'"><input type="radio" name="gap" value="min" id="gap-min"/><span class="dashicons dashicons-upload"></span></label></div>               <div class="type exact active"><label for="gap-exact" class="tip" title="'+ilj_editor_translation.type_exact+'"><input type="radio" name="gap" value="exact" checked="checked" id="gap-exact"/><span class="dashicons dashicons-migrate"></span></label></div>               <div class="type max"><label for="gap-max" class="tip" title="'+ilj_editor_translation.type_max+'"><input type="radio" name="gap" value="max" id="gap-max"/><span class="dashicons dashicons-download"></span></label></div>           </div>           <div class="gap-hints">               <div class="hint min" id="min"><p class="howto">'+ilj_editor_translation.howto_gap_min+'</p></div>               <div class="hint exact active" id="exact"><p class="howto">'+ilj_editor_translation.howto_gap_exact+'</p></div>           <div class="hint max" id="max"><p class="howto">'+ilj_editor_translation.howto_gap_max+'</p></div>           </div>       </div>       <a class="show-gaps">&raquo; '+ilj_editor_translation.insert_gaps+'</a>   </div>   <div class="keyword-view-gui">       <h4>'+ilj_editor_translation.headline_configured_keywords+'</h4>       <ul class="keyword-view" role="list"></ul>   </div></div>'),settingsTab:i('<div id="Settings" class="settings tabcontent"></div>'),limitIncomingLinks:i('   <div class="input-gui limit-incoming-links ilj-row '+ilj_editor_basic_restriction.disable_setting+'" '+ilj_editor_basic_restriction.disabled+' >       <div class="input-gui ilj-row ilj-editor-settings-field">           <div class="col-7 limit-incoming-links-label">               <label><span '+ilj_editor_basic_restriction.disable_title+">"+ilj_editor_basic_restriction.lock_icon+ilj_editor_translation.limit_incoming_links+'</span></label>           </div>           <div class="col-5 ilj-limit-incoming-links-toggle">'+s("limitincominglinks",!1,ilj_editor_basic_restriction.is_active)+"           </div>       </div>   </div>"),maxIncomingLinks:i('       <div class="input-gui max-incoming-links ilj-row '+ilj_editor_basic_restriction.disable_setting+'" style="display:none;" '+ilj_editor_basic_restriction.disabled+'>           <div class="col-7">               <label><span '+ilj_editor_basic_restriction.disable_title+">"+ilj_editor_basic_restriction.lock_icon+ilj_editor_translation.max_incoming_links+'</span></label>           </div>           <div class="col-5">               <input type="number" class="maxincominglinks '+ilj_editor_basic_restriction.disable_setting+'" min="1" value="1" name="ilj_maxincominglinks" '+ilj_editor_basic_restriction.disabled+" >           </div>       </div>"),limitOutgoingLinks:i('   <div class="input-gui limit-outgoing-links ilj-row '+ilj_editor_basic_restriction.disable_setting+'" '+ilj_editor_basic_restriction.disabled+' >       <div class="input-gui ilj-row ilj-editor-settings-field">           <div class="col-7 limit-outgoing-links-label">               <label><span '+ilj_editor_basic_restriction.disable_title+">"+ilj_editor_basic_restriction.lock_icon+ilj_editor_translation.limit_outgoing_links+'</span></label>           </div>           <div class="col-5 ilj-limit-outgoing-links-toggle">'+s("limitoutgoinglinks",!1,ilj_editor_basic_restriction.is_active)+"           </div>       </div>"+function(i=!1){var t="";return i&&(t='<button class="ilj-upgrade-to-pro-button" ilj-link-target="'+ilj_editor_translation.upgrade_to_pro_link+'">'+ilj_editor_translation.upgrade_to_pro_button_text+"</button>"),t}(ilj_editor_basic_restriction.is_active)+"   </div>"),maxOutgoingLinks:i('       <div class="input-gui max-outgoing-links ilj-row '+ilj_editor_basic_restriction.disable_setting+'" style="display:none;" '+ilj_editor_basic_restriction.disabled+'>           <div class="col-7">               <label><span '+ilj_editor_basic_restriction.disable_title+">"+ilj_editor_basic_restriction.lock_icon+ilj_editor_translation.max_outgoing_links+'</span></label>           </div>           <div class="col-5">               <input type="number" class="maxoutgoinglinks '+ilj_editor_basic_restriction.disable_setting+'" min="1" value="1" name="ilj_maxoutgoinglinks" '+ilj_editor_basic_restriction.disabled+" >           </div>       </div>"),blacklistStatus:i('   <div class="input-gui ilj-row blacklistStatus ilj-editor-settings-field">       <div class="col-7 blacklist-status-label">           <label>'+ilj_editor_translation.is_blacklisted+'</label>       </div>       <div class="col-5 ilj-blacklist-status-toggle">'+s("is_blacklisted",!1)+"       </div>   </div>"),blacklistKeywords:i('   <div class="input-gui ilj-row blacklistKeyword">       <div class="col-12">           <label>'+ilj_editor_translation.blacklist_incoming_links+'</label>           <input class="keywordInput" type="text" name="blacklistkeyword"></input>           <a class="button add-keyword" blacklist-keyword="true">'+ilj_editor_translation.add_keyword+'</a>       </div>       <div class="col-12 keyword-view-gui blacklistView">           <h4>'+ilj_editor_translation.headline_configured_keywords_blacklist+'</h4>           <ul class="keyword-view" role="list"></ul>       </div>   </div>'),limitLinksPerParagraph:i('   <div class="input-gui ilj-row limit-links-per-paragraph '+ilj_editor_basic_restriction.disable_setting+'" '+ilj_editor_basic_restriction.disabled+'>       <div class="input-gui ilj-row ilj-editor-settings-field">           <div class="col-7 limit-links-per-paragraph-label">               <label ><span '+ilj_editor_basic_restriction.disable_title+">"+ilj_editor_basic_restriction.lock_icon+ilj_editor_translation.limit_links_per_paragraph+'</span></label>           </div>           <div class="col-5 ilj-limit-links-per-paragraph-toggle">'+s("limitlinksperparagraph",!1,ilj_editor_basic_restriction.is_active)+"           </div>       </div>   </div>"),linksPerParagraph:i('   <div class="input-gui max-limit-links-in-paragraph ilj-row  '+ilj_editor_basic_restriction.disable_setting+'" style="display:none;"  '+ilj_editor_basic_restriction.disabled+'>       <div class="col-7">           <label><span '+ilj_editor_basic_restriction.disable_title+">"+ilj_editor_basic_restriction.lock_icon+ilj_editor_translation.max_links_per_paragraph+'</span></label>       </div>       <div class="col-5">           <input class="maxlinksperparagraph '+ilj_editor_basic_restriction.disable_setting+'" type="number" min="1" value="1" name="ilj_linksperparagraph"  '+ilj_editor_basic_restriction.disabled+">       </div>   </div>   <br>"),footer:i("#ilj_keyword_metabox_footer").html(),feedback:i('<div id="ilj-editor-feedback"></div>'),init:function(){var s=this;this.inputField.css("display","none").parent("p").hide(),this.clearError(),t.find(".inside").append(this.feedback,this.tabs,this.errorMessage,this.inputGui,this.settingsTab,this.footer),t.find("h2").prepend(i("<i/>").addClass("icon icon-ilj")),"ilj_customlinks"!=ilj_editor_basic_restriction.current_screen&&t.find(".settings.tabcontent").append(this.blacklistStatus),"ilj_customlinks"!=ilj_editor_basic_restriction.current_screen&&(t.find(".settings.tabcontent").append(this.limitLinksPerParagraph),t.find(".settings.tabcontent").append(this.linksPerParagraph)),t.find(".settings.tabcontent").append(this.limitIncomingLinks,this.maxIncomingLinks),"ilj_customlinks"!=ilj_editor_basic_restriction.current_screen&&t.find(".settings.tabcontent").append(this.limitOutgoingLinks,this.maxOutgoingLinks),"ilj_customlinks"!=ilj_editor_basic_restriction.current_screen&&t.find(".settings.tabcontent").append(this.blacklistKeywords),this.keywords=this.inputGui.ilj_keywords({inputField:this.inputField,errorMessage:this.errorMessage,duplicate_notice:this.duplicate_notice,requiresPro:!1,sortable:!0}),this.blacklistKeywords=this.settingsTab.ilj_keywords({inputField:this.blacklistField,errorMessage:this.errorMessage,requiresPro:!0,sortable:!1}),this.inputGui.find(".add-keyword").after(this.keywordInputInfo),this.inputGui.find(".add-gap").after(this.gapInputInfo),this.inputGui.on("keypress",'input[name="count"]',(function(i){return 13===i.keyCode&&s.inputGui.find("a.add-gap").trigger("click"),13!=i.keyCode})),this.inputGui.on("keypress",'input[name="gap"]',(function(i){return 13===i.keyCode&&s.inputGui.find('input[name="count"]').trigger("focus"),13!=i.keyCode})),this.inputGui.on("click",".show-gaps",(function(t){t.preventDefault(),i(this).hide(),s.inputGui.find(".gaps").show()})),this.inputGui.on("click","a.add-gap",(function(t){t.preventDefault();var e=i(this).siblings('input[name="count"]'),a=i(this).siblings(".gap-types").find('input[name="gap"]:checked').val(),n=e.val(),l=s.inputGui.find('input[name="keyword"]').val(),o="";if(!1!==/^\d+$/.test(n)){switch(a){case"min":o="{+"+n+"}";break;case"max":o="{-"+n+"}";break;default:o="{"+n+"}"}e.val(""),s.inputGui.find('input[name="keyword"]').val(l+o),s.inputGui.find('input[name="keyword"]').trigger("focus")}})),this.inputGui.on("change",'input[name="gap"]',(function(){var t=i(this).val();s.inputGui.find(".gap-types .type").removeClass("active"),s.inputGui.find(".gap-types .type."+t).addClass("active"),s.inputGui.find(".gap-hints .hint").removeClass("active"),s.inputGui.find(".gap-hints .hint."+t).addClass("active")})),this.tabs.on("click",".tablinks",(function(t){t.preventDefault(),jQuery(".tabcontent").removeClass("active"),jQuery(".tablinks").removeClass("active"),i(this).addClass("active");var s=i(this).html();jQuery("#"+s).addClass("active")})),this.settingsTab.find(".ilj-limit-links-per-paragraph-toggle").append(this.limitLinksPerParagraphInputInfo),this.settingsTab.find(".ilj-limit-incoming-links-toggle").append(this.limitIncomingLinksInfo),this.settingsTab.find(".ilj-limit-outgoing-links-toggle").append(this.limitOutgoingLinksInfo),this.settingsTab.find(".ilj-blacklist-status-toggle").append(this.blacklistStatusInfo),this.settingsTab.on("change",this.isBlacklisted,(function(){var t=i("input[name='is_blacklisted']"),e=s.toggleSwitchInput(t);s.isBlacklisted.val(e)})),i("#ilj-delete-cache").on("click",(function(){i(this).prop("disabled",!0),i(this).next(".spinner").removeClass("ilj-hidden");const t=i(this),s=i("#ilj-editor-feedback");i.ajax({url:i(this).data("ilj-delete-cache-url")}).always((function(){t.next(".ilj-spinner").addClass("ilj-hidden"),t.prop("disabled",!1),s.html('<div class="notice notice-success is-dismissible ilj-editor-feedback-notice"><p>'+ilj_editor_translation.cache_cleared+"</p></div>"),setTimeout((function(){s.html("")}),2e3)}))})),this.initSettingsTab()},toggleSwitchInput:function(i,t=""){return i.prop("checked")?(""!=t&&this.settingsTab.find("."+t).css("display","block"),1):(""!=t&&this.settingsTab.find("."+t).css("display","none"),0)},initSettingsTab:function(){1==this.isBlacklisted.val()&&i("input[name='is_blacklisted']").prop("checked",!0),ilj_editor_basic_restriction.is_active&&i(document).on("click",".ilj-upgrade-to-pro-button",(function(){var t=i(this).attr("ilj-link-target");window.open(t,"_blank")}))},setError:function(i){this.errorMessage.html(i),this.errorMessage.show()},clearError:function(){this.errorMessage.html(""),this.errorMessage.hide()}}).init()},i((function(){jQuery("#ilj_linkdefinition").ilj_editor(),jQuery(".pro-setting").attr("title",ilj_editor_translation.pro_feature_title),jQuery(".pro-setting").on("click",(function(){window.open(ilj_editor_translation.upgrade_to_pro_link,"_blank")}));var t=new URLSearchParams(window.location.search);i("#post_ID").length?(i("#post_ID").val(),i("#post_type").val()):t.get("tag_ID")&&(t.get("tag_ID"),t.get("taxonomy"))}))}(jQuery);
//# sourceMappingURL=ilj_editor.min.js.map